# Database Configuration
# For Replit PostgreSQL (default)
DATABASE_URL=postgresql://user:password@host:port/database

# For Neon Database (alternative)
# DATABASE_URL=postgresql://user:password@host.neon.tech:5432/database?sslmode=require

# For Supabase (alternative)
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key

# PI Redactor Configuration
# URL to the PI (Personally Identifiable Information) Redactor tool
# This tool opens in a popup window for de-identifying documents before upload
VITE_PI_REDACTOR_URL=https://rewrk-929-text-redactor-eric677.replit.app/

# Environment Selection
# Development environments (full access):
#   - development: General development
#   - k12-dev: K-12 module development
#   - post-secondary-dev: Post-secondary module development
#   - tutoring-dev: Tutoring module development
# Demo environments (read-only):
#   - k12-demo: K-12 demo with read-only access
#   - post-secondary-demo: Post-secondary demo with read-only access
#   - tutoring-demo: Tutoring demo with read-only access
# Production environments:
#   - production: Main production environment
#   - replit-prod: Replit production (legacy)
#   - replit-dev: Replit development (legacy)
APP_ENVIRONMENT=development

# Node Environment
NODE_ENV=development # Options: development, production

# Port Configuration
# Default: 5001 (to avoid macOS ControlCenter conflict on port 5000)
PORT=5001

# Session Secret (generate a random string)
SESSION_SECRET=your-random-session-secret

# Redis Configuration (for background job processing)
# Optional: defaults to localhost:6379 if not specified
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password-if-needed

# SendGrid Configuration (for email sending)
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@thriveiep.com

# Email Verification Settings
EMAIL_VERIFICATION_EXPIRY_HOURS=24
EMAIL_VERIFICATION_BASE_URL=http://localhost:5001

# Rate Limiting Configuration
# Registration endpoint: maximum attempts per IP per hour
REGISTRATION_RATE_LIMIT=5
# Resend verification endpoint: maximum attempts per email per hour
RESEND_VERIFICATION_RATE_LIMIT=3
# Support and sales endpoints: maximum attempts per IP per hour
SUPPORT_SALES_RATE_LIMIT=10

# Admin Notification Settings
# Enable/disable admin notifications for registrations, support, and sales
ADMIN_NOTIFICATION_ENABLED=true

# Slack Webhook Configuration (for admin notifications)
# If configured, notifications will be sent to Slack instead of email
# Get your webhook URL from: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Presentation Mode Configuration
# 64-character cryptographically secure token for presentation mode access
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Usage: Add ?p=<token> to any URL to enable read-only presentation mode
# Security Considerations:
#   - Token grants temporary read-only access without authentication
#   - Token is removed from URL after processing to hide it from browser history
#   - Access is logged with IP address and timestamp for security audit
#   - Invalid token attempts are logged but don't reveal the feature exists
#   - Session is temporary and read-only (no data modification allowed)
PRESENTATION_MODE_TOKEN=generate-your-own-64-character-token